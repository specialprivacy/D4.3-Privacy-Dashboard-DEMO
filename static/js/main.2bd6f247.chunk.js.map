{"version":3,"sources":["registerServiceWorker.js","timeline/DataTimeline.js","VocabLabelsGenerator.js","sidebar/ControllerInfo.js","controls/FilterControls.js","timeline/DataTimelineOverview.js","timeline/DataTimelineContainer.js","themes/specialTheme.js","consent/ControllerPolicies.js","charts/DataPurposeChart.js","charts/ProcessingDataChart.js","charts/RecipientStorageChart.js","charts/DataNotEuStorageChart.js","dialogs/DetailsDialog.js","FrontPage.js","App.js","AppContainer.js","index.js"],"names":["isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","catch","error","iconColor","cardHeaderStyle","data","http://www.specialprivacy.eu/vocabs/data#Activity","http://www.specialprivacy.eu/vocabs/data#Anonymized","http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity","http://www.specialprivacy.eu/vocabs/data#Computer","http://www.specialprivacy.eu/vocabs/data#Content","http://www.specialprivacy.eu/vocabs/data#Demographic","http://www.specialprivacy.eu/vocabs/data#Derived","http://www.specialprivacy.eu/vocabs/data#Financial","http://www.specialprivacy.eu/vocabs/data#Government","http://www.specialprivacy.eu/vocabs/data#Health","http://www.specialprivacy.eu/vocabs/data#Interactive","http://www.specialprivacy.eu/vocabs/data#Judicial","http://www.specialprivacy.eu/vocabs/data#Location","http://www.specialprivacy.eu/vocabs/data#Navigation","http://www.specialprivacy.eu/vocabs/data#Online","http://www.specialprivacy.eu/vocabs/data#OnlineActivity","http://www.specialprivacy.eu/vocabs/data#Physical","http://www.specialprivacy.eu/vocabs/data#PhysicalActivity","http://www.specialprivacy.eu/vocabs/data#Political","http://www.specialprivacy.eu/vocabs/data#Preference","http://www.specialprivacy.eu/vocabs/data#Profile","http://www.specialprivacy.eu/vocabs/data#Purchase","http://www.specialprivacy.eu/vocabs/data#Social","http://www.specialprivacy.eu/vocabs/data#State","http://www.specialprivacy.eu/vocabs/data#Statistical","http://www.specialprivacy.eu/vocabs/data#TelecomActivity","http://www.specialprivacy.eu/vocabs/data#UniqueId","storage","http://www.specialprivacy.eu/vocabs/locations#EU","http://www.specialprivacy.eu/vocabs/locations#EULike","http://www.specialprivacy.eu/vocabs/locations#ThirdCountries","http://www.specialprivacy.eu/vocabs/locations#ControllerServers","http://www.specialprivacy.eu/vocabs/locations#OurServers","http://www.specialprivacy.eu/vocabs/locations#ProcessorServers","http://www.specialprivacy.eu/vocabs/locations#ThirdParty","processing","http://www.specialprivacy.eu/vocabs/processing#Aggregate","http://www.specialprivacy.eu/vocabs/processing#Analyze","http://www.specialprivacy.eu/vocabs/processing#Anonymize","http://www.specialprivacy.eu/vocabs/processing#Collect","http://www.specialprivacy.eu/vocabs/processing#Copy","http://www.specialprivacy.eu/vocabs/processing#Derive","http://www.specialprivacy.eu/vocabs/processing#Move","http://www.specialprivacy.eu/vocabs/processing#Query","http://www.specialprivacy.eu/vocabs/processing#Transfer","purpose","http://www.specialprivacy.eu/vocabs/purposes#Account","http://www.specialprivacy.eu/vocabs/purposes#Admin","http://www.specialprivacy.eu/vocabs/purposes#Arts","http://www.specialprivacy.eu/vocabs/purposes#AuxPurpose","http://www.specialprivacy.eu/vocabs/purposes#Browsing","http://www.specialprivacy.eu/vocabs/purposes#Charity","http://www.specialprivacy.eu/vocabs/purposes#Communicate","http://www.specialprivacy.eu/vocabs/purposes#Custom","http://www.specialprivacy.eu/vocabs/purposes#Delivery","http://www.specialprivacy.eu/vocabs/purposes#Develop","http://www.specialprivacy.eu/vocabs/purposes#Downloads","http://www.specialprivacy.eu/vocabs/purposes#Education","http://www.specialprivacy.eu/vocabs/purposes#Feedback","http://www.specialprivacy.eu/vocabs/purposes#Finmgt","http://www.specialprivacy.eu/vocabs/purposes#Gambling","http://www.specialprivacy.eu/vocabs/purposes#Gaming","http://www.specialprivacy.eu/vocabs/purposes#Government","http://www.specialprivacy.eu/vocabs/purposes#Health","http://www.specialprivacy.eu/vocabs/purposes#Historical","http://www.specialprivacy.eu/vocabs/purposes#Login","http://www.specialprivacy.eu/vocabs/purposes#Marketing","http://www.specialprivacy.eu/vocabs/purposes#News","http://www.specialprivacy.eu/vocabs/purposes#OtherContact","http://www.specialprivacy.eu/vocabs/purposes#Payment","http://www.specialprivacy.eu/vocabs/purposes#Sales","http://www.specialprivacy.eu/vocabs/purposes#Search","http://www.specialprivacy.eu/vocabs/purposes#State","http://www.specialprivacy.eu/vocabs/purposes#Tailoring","http://www.specialprivacy.eu/vocabs/purposes#Telemarketing","recipient","http://www.specialprivacy.eu/vocabs/recipientsDelivery","http://www.specialprivacy.eu/vocabs/recipientsSame","http://www.specialprivacy.eu/vocabs/recipientsOtherRecipient","http://www.specialprivacy.eu/vocabs/recipientsOurs","http://www.specialprivacy.eu/vocabs/recipientsPublic","http://www.specialprivacy.eu/vocabs/recipientsUnrelated","getLabel","key","upperCase","replace","result","hasOwnProperty","charAt","toLocaleUpperCase","slice","event2text","p","profile","intro","linebreak","_arr","_i","length","Array","isArray","arr","map","e","join","react_default","a","createElement","processingString","dataString","purposeString","storageString","recipientString","purposeIcons","moreMenuStyle","position","top","right","moreButtonStyle","minWidth","height","lineHeight","menuOrigin","horizontal","vertical","DataTimeline","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","text","generateIconMenu","self","elem","IconMenu_default","iconButtonElement","FlatButton_default","style","more_vert_default","color","targetOrigin","anchorOrigin","MenuItem_default","primaryText","split","Divider_default","leftIcon","pan_tool_default","create_default","clear_default","muiTheme","palette","primary1Color","backgroundColor","accent1Color","fontFamily","fontSize","fontWeight","Account","account_circle_default","Admin","face_default","AnyContact","contacts_default","Arts","fiber_smart_record_default","AuxPurpose","extension_default","Browsing","web_default","Charity","favorite_default","Communicate","record_voice_over_default","Current","offline_pin_default","Custom","accessibility_default","Delivery","card_giftcard_default","Develop","developer_mode_default","Downloads","cloud_download_default","Education","layers_default","Feedback","feedback_default","Finmgt","fingerprint_default","Gambling","local_atm_default","Gaming","videogame_asset_default","Government","business_default","Health","healing_default","Historical","history_default","Login","https_default","Marketing","info_default","News","chrome_reader_mode_default","OtherContact","assignment_ind_default","Payment","attach_money_default","Sales","receipt_default","Search","search_default","State","assessment_default","Tailoring","build_default","Telemarketing","tv_default","textAlign","CircularProgress_default","size","thickness","dist","padding","width","margin","groupBy","Math","floor","timestamp","avgFreq","avgNumEvents","chunk","summary","values","reduce","current","indexOf","push","generateRandomKey","title","createdAt","Date","toLocaleDateString","toLocaleTimeString","icon","container","index_es","groupByKey","groups","groupsSummary","_arr2","_i2","expandable","initiallyExpanded","marginTop","subtitle","actAsExpander","showExpandableButton","avatar","secondaryText","rightIconButton","process","eventID","bind","marginBottom","RaisedButton_default","primary","label","onClick","loadMore","Component","muiThemeable","xs","rv","x","v","Function","el","find","r","name","address","website","email","description","logo","FilterControls","radBtnStyle","float","List","Subheader_default","RadioButton","defaultSelected","onChange","changeGroupBy","value","DataTimelineOverview","stepArr","updateOverview","setTimeout","tmp","getStepArr","setState","Stepper","readBuffer","chunkSize","DataTimelineContainer","limit","className","controls_FilterControls","timeline_DataTimelineOverview","timeline_DataTimeline","specialTheme","backgroundImage","spacing","borderRadius","primary2Color","primary3Color","accent2Color","accent3Color","textColor","darkBlack","secondaryTextColor","fade","alternateTextColor","white","canvasColor","borderColor","grey300","disabledColor","pickerHeaderColor","cyan500","clockCircleColor","shadowColor","fullBlack","ControllerInfo","policyOpen","togglePolicy","redirect","hash","emailRedirect","leftAlign","paddingTop","src","alt","clear","primaryColor","accentColor","ControllerPolicies","getPolicies","policySummary","links","policies","dataCollection","purposeCollection","processingCollection","storageCollection","recipientCollection","id","paddingLeft","paddingRight","fill","rightToggle","explanation","DataPurposeChart","update","updateInterval","entries","getStatistics","sort","b","count","dataTotal","obj","dataCategory","reverse","percentage","toFixed","total","Number","parseFloat","_this2","onRowSelection","rowNumber","openDetails","adjustForCheckbox","displaySelectAll","enableSelectAll","displayRowCheckbox","stripedRows","cursor","pie","innerRadius","padAngle","cornerRadius","borderWidth","sliceLabel","colors","radialLabelsLinkDiagonalLength","radialLabelsLinkHorizontalLength","radialLabelsLinkStrokeWidth","radialLabelsLinkColor","node","bottom","left","prefix","sPrefix","ProcessingDataChart","statistics","processingName","reducedData","assertThisInitialized","allKeys","forEach","getDimensions","i","bar","keys","indexBy","colorBy","groupMode","innerPadding","layout","labelSkipWidth","labelSkipHeight","labelTextColor","animate","motionStiffness","motionDamping","legends","dataFrom","anchor","direction","justify","translateX","translateY","itemsSpacing","itemWidth","itemHeight","itemDirection","itemOpacity","symbolSize","RecipientStorageChart","DataNotEuStorageChart","DetailsDialog","inputData","selectedType","selectedQuery","nextProps","nextState","labelType","labelQuery","Dialog_default","IconButton_default","closeDetails","close_default","open","onRequestClose","autoDetectWindowHeight","autoScrollBodyContent","filter","FrontPage","type","query","forceUpdate","charts_DataPurposeChart","charts_ProcessingDataChart","charts_RecipientStorageChart","charts_DataNotEuStorageChart","dialogs_DetailsDialog","App","switch","triggerPolicyRequest","onhashchange","theme","iconMenu","iconStyle","settings_default","directions_run_default","MuiThemeProvider_default","getMuiTheme","borderBottom","background","AppBar_default","showMenuIconButton","display","iconElementRight","sidebar_ControllerInfo","src_FrontPage","timeline_DataTimelineContainer","controls","toggleChecked","onActive","consent_ControllerPolicies","request","require","defaults","jar","EventSource","buffer","hasConsent","extChunkSize","vocabData","vocabProcessing","vocabPurpose","vocabRecipient","vocabStorage","url","src_AppContainer","generateData","dataRandom","random","hasConsentRandom","processingRandom","purposeRandom","recipientRandom","storageRandom","now","unshift","pop","processEvent","getBuffer","element","n","freqIndicator","index","target","err","res","body","statusCode","headers","JSON","parse","applications","clientId","addEventListener","src_App","dec2hex","dec","toString","substr","Uint8Array","crypto","getRandomValues","from","ReactDOM","render","document","getElementById","URL","origin","concat","fetch","response","status","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.2bd6f247.chunk.js","sourcesContent":["// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (!isLocalhost) {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      } else {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React, {Component} from 'react';\nimport {Timeline, TimelineEvent} from 'react-event-timeline';\nimport IconButton from 'material-ui/FlatButton';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport IconMenu from 'material-ui/IconMenu';\nimport MenuItem from 'material-ui/MenuItem';\nimport Divider from 'material-ui/Divider';\nimport CircularProgress from 'material-ui/CircularProgress';\nimport {Card, CardHeader, CardText, List, ListItem} from \"material-ui\";\nimport {generateRandomKey} from \"../AppContainer\";\n\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport ContentCreate from 'material-ui/svg-icons/content/create';\nimport ContentClear from 'material-ui/svg-icons/content/clear';\nimport PanTool from 'material-ui/svg-icons/action/pan-tool';\n\nimport Account from 'material-ui/svg-icons/action/account-circle';\nimport Admin from 'material-ui/svg-icons/action/face';\nimport AnyContact from 'material-ui/svg-icons/communication/contacts';\nimport Arts from 'material-ui/svg-icons/av/fiber-smart-record';\nimport AuxPurpose from 'material-ui/svg-icons/action/extension';\nimport Browsing from 'material-ui/svg-icons/av/web';\nimport Charity from 'material-ui/svg-icons/action/favorite';\nimport Communicate from 'material-ui/svg-icons/action/record-voice-over';\nimport Current from 'material-ui/svg-icons/action/offline-pin';\nimport Custom from 'material-ui/svg-icons/action/accessibility';\nimport Delivery from 'material-ui/svg-icons/action/card-giftcard';\nimport Develop from 'material-ui/svg-icons/device/developer-mode';\nimport Downloads from 'material-ui/svg-icons/file/cloud-download';\nimport Education from 'material-ui/svg-icons/maps/layers';\nimport Feedback from 'material-ui/svg-icons/action/feedback';\nimport Finmgt from 'material-ui/svg-icons/action/fingerprint';\nimport Gambling from 'material-ui/svg-icons/maps/local-atm';\nimport Gaming from 'material-ui/svg-icons/hardware/videogame-asset';\nimport Government from 'material-ui/svg-icons/communication/business';\nimport Health from 'material-ui/svg-icons/image/healing';\nimport Historical from 'material-ui/svg-icons/action/history';\nimport Login from 'material-ui/svg-icons/action/https';\nimport Marketing from 'material-ui/svg-icons/action/info';\nimport News from 'material-ui/svg-icons/action/chrome-reader-mode';\nimport OtherContact from 'material-ui/svg-icons/action/assignment-ind';\nimport Payment from 'material-ui/svg-icons/editor/attach-money';\nimport Sales from 'material-ui/svg-icons/action/receipt';\nimport Search from 'material-ui/svg-icons/action/search';\nimport State from 'material-ui/svg-icons/action/assessment';\nimport Tailoring from 'material-ui/svg-icons/action/build';\nimport Telemarketing from 'material-ui/svg-icons/hardware/tv';\n\nimport muiThemeable from 'material-ui/styles/muiThemeable';\nimport {event2text, getLabel} from \"../VocabLabelsGenerator\";\n\nvar iconColor;\nvar cardHeaderStyle;\nvar moreMenuStyle = {position: \"absolute\", top: \"12px\", right: \"12px\"};\nvar moreButtonStyle = {minWidth: \"auto\", height: \"auto\", lineHeight: \"auto\"};\nvar menuOrigin = {horizontal: 'right', vertical: 'top'};\n\nvar purposeIcons;\n\nclass DataTimeline extends Component {\n  constructor(props) {\n    super(props);\n    iconColor = props.muiTheme.palette.primary1Color;\n    cardHeaderStyle = {\n      backgroundColor: props.muiTheme.palette.accent1Color,\n      fontFamily: props.muiTheme.fontFamily,\n      color: \"white\",\n      fontSize: \"12pt\",\n      fontWeight: \"bold\"\n    };\n\n    purposeIcons = {\n      \"Account\": <Account color={iconColor}/>,\n      \"Admin\": <Admin color={iconColor}/>,\n      \"AnyContact\": <AnyContact color={iconColor}/>,\n      \"Arts\": <Arts color={iconColor}/>,\n      \"AuxPurpose\": <AuxPurpose color={iconColor}/>,\n      \"Browsing\": <Browsing color={iconColor}/>,\n      \"Charity\": <Charity color={iconColor}/>,\n      \"Communicate\": <Communicate color={iconColor}/>,\n      \"Current\": <Current color={iconColor}/>,\n      \"Custom\": <Custom color={iconColor}/>,\n      \"Delivery\": <Delivery color={iconColor}/>,\n      \"Develop\": <Develop color={iconColor}/>,\n      \"Downloads\": <Downloads color={iconColor}/>,\n      \"Education\": <Education color={iconColor}/>,\n      \"Feedback\": <Feedback color={iconColor}/>,\n      \"Finmgt\": <Finmgt color={iconColor}/>,\n      \"Gambling\": <Gambling color={iconColor}/>,\n      \"Gaming\": <Gaming color={iconColor}/>,\n      \"Government\": <Government color={iconColor}/>,\n      \"Health\": <Health color={iconColor}/>,\n      \"Historical\": <Historical color={iconColor}/>,\n      \"Login\": <Login color={iconColor}/>,\n      \"Marketing\": <Marketing color={iconColor}/>,\n      \"News\": <News color={iconColor}/>,\n      \"OtherContact\": <OtherContact color={iconColor}/>,\n      \"Payment\": <Payment color={iconColor}/>,\n      \"Sales\": <Sales color={iconColor}/>,\n      \"Search\": <Search color={iconColor}/>,\n      \"State\": <State color={iconColor}/>,\n      \"Tailoring\": <Tailoring color={iconColor}/>,\n      \"Telemarketing\": <Telemarketing color={iconColor}/>,\n    };\n  }\n\n  state = {\n    text: \"\",\n  };\n\n  generateIconMenu = (self, elem) => {\n    return <IconMenu\n      iconButtonElement={<IconButton style={moreButtonStyle}><MoreVertIcon style={{color: \"grey\"}}/></IconButton>}\n      style={moreMenuStyle}\n      targetOrigin={menuOrigin}\n      anchorOrigin={menuOrigin}\n    >\n      <MenuItem primaryText={\n        <div>\n          <b>Purpose:</b><br/>\n          {elem.purpose.split(\"#\")[1]}\n        </div>}\n      />\n      <Divider/>\n      <MenuItem leftIcon={<PanTool/>}>Withdraw consent</MenuItem>\n      <MenuItem leftIcon={<ContentCreate/>}>Rectify</MenuItem>\n      <MenuItem leftIcon={<ContentClear/>}>Erase</MenuItem>\n    </IconMenu>;\n  };\n\n  render() {\n    const self = this;\n\n    if (this.props.data.length === 0) {\n      return (\n        <div style={{textAlign: \"center\"}}><CircularProgress size={60} thickness={7} /></div>\n      );\n    } else {\n      return (\n        <div>\n          <Timeline style={{position: \"relative\", padding: \"10px 2px\", width: \"95%\", margin: \"0px auto\"}}>\n            {\n              groupBy(this.props.data, function(e) {\n                return Math.floor(e.timestamp / (self.props.avgFreq * self.props.avgNumEvents));\n              }).map(function (self, chunk) {\n\n                let summary = chunk.values.reduce((result, current) => {\n                  for (let key of [\"data\", \"purpose\", \"processing\", \"storage\", \"recipient\"]) {\n                    if (result[key].indexOf(current[key]) === -1) {\n                      result[key].push(current[key]);\n                    }\n                  }\n                  return result;\n                }, {\n                  data: [],\n                  purpose: [],\n                  processing: [],\n                  storage: [],\n                  recipient: []\n                });\n\n                return (\n                  <TimelineEvent\n                    key={generateRandomKey()}\n                    title=\"\"\n                    createdAt={<span>Data processed on {new Date(chunk.values[0].timestamp).toLocaleDateString()} at {new Date(chunk.values[0].timestamp).toLocaleTimeString()}</span>}\n                    icon={purposeIcons[chunk.values[0].purpose.split(\"#\")[1]]}\n                    iconColor={iconColor}\n                    cardHeaderStyle={cardHeaderStyle}\n                    container=\"card\">\n                    <div>\n                      <CardText style={{fontSize: \"12pt\"}}>{event2text(summary)}</CardText>\n                    </div>\n                    <div>\n                      {\n                        groupBy(chunk.values, self.props.groupByKey)\n                          .map((groups) => groups.values)\n                          .map(function(groups) {\n                            var title = getLabel(groups[0][self.props.groupByKey], true);\n                            let groupsSummary = groups.reduce((result, current) => {\n                              for (let key of [\"data\", \"purpose\", \"processing\", \"storage\", \"recipient\"]) {\n                                if (result[key].indexOf(current[key]) === -1) {\n                                  result[key].push(current[key]);\n                                }\n                              }\n                              return result;\n                            }, {\n                              data: [],\n                              purpose: [],\n                              processing: [],\n                              storage: [],\n                              recipient: []\n                            });\n\n                            return (\n                              <Card\n                                key={generateRandomKey()}\n                                expandable={true}\n                                initiallyExpanded={false}\n                                style={{marginTop: \"10px\"}}>\n                                <CardHeader\n                                  title={<span>{self.props.groupByKey.charAt(0).toLocaleUpperCase() + self.props.groupByKey.slice(1) + \": \" + title}</span>}\n                                  subtitle={<span>{event2text(groupsSummary)}</span>}\n                                  actAsExpander={true}\n                                  showExpandableButton={true}\n                                  avatar={purposeIcons[groups[0].purpose.split(\"#\")[1]]}/>\n                                <CardText expandable={true}>\n                                  <List>\n                                    {\n                                      groups.map(function(e) {\n                                        return (\n                                          <div key={generateRandomKey()}>\n                                            <Divider/>\n                                            <ListItem\n                                              leftIcon={purposeIcons[e.purpose.split(\"#\")[1]]}\n                                              secondaryText={<p><b>Processed on {new Date(e.timestamp).toLocaleDateString()} at {new Date(e.timestamp).toLocaleTimeString()}</b></p>}\n                                              rightIconButton={self.generateIconMenu(self, e)}>\n                                            <span key={generateRandomKey()}>\n                                              <p><b>Process:</b> { e.process }</p>\n                                              <p><small>Event code: { e.eventID }</small></p>\n                                              <hr />\n                                              <p>{ event2text(e) }</p>\n                                            </span>\n                                            </ListItem>\n                                          </div>\n                                        )\n                                      })\n                                    }\n                                  </List>\n                                </CardText>\n                              </Card>\n                            );\n                          })\n                      }\n                    </div>\n                  </TimelineEvent>\n                );\n              }.bind(null, this))\n            }\n          </Timeline>\n          <div style={{textAlign: \"center\", marginBottom: \"20px\"}}>\n            <RaisedButton\n              primary={true}\n              label=\"Load more\"\n              onClick={this.props.loadMore} />\n          </div>\n        </div>\n      );\n    }\n  }\n}\n\nexport default muiThemeable()(DataTimeline);\n\n// https://stackoverflow.com/a/34890276\nfunction groupBy(xs, key) {\n  return xs.reduce(function (rv, x) {\n    let v = key instanceof Function ? key(x) : x[key];\n    let el = rv.find((r) => r && r.key === v);\n    if (el) {\n      el.values.push(x);\n    } else {\n      rv.push({key: v, values: [x]});\n    }\n    return rv;\n  }, []);\n}","import React from 'react';\n\nconst data = {\n  \"http://www.specialprivacy.eu/vocabs/data#Activity\": \"activity\",\n  \"http://www.specialprivacy.eu/vocabs/data#Anonymized\": \"anonymized\",\n  \"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\": \"audiovisual activity\",\n  \"http://www.specialprivacy.eu/vocabs/data#Computer\": \"computer\",\n  \"http://www.specialprivacy.eu/vocabs/data#Content\": \"content\",\n  \"http://www.specialprivacy.eu/vocabs/data#Demographic\": \"demographic\",\n  \"http://www.specialprivacy.eu/vocabs/data#Derived\": \"derived\",\n  \"http://www.specialprivacy.eu/vocabs/data#Financial\": \"financial\",\n  \"http://www.specialprivacy.eu/vocabs/data#Government\": \"governmental\",\n  \"http://www.specialprivacy.eu/vocabs/data#Health\": \"health\",\n  \"http://www.specialprivacy.eu/vocabs/data#Interactive\": \"interactivity\",\n  \"http://www.specialprivacy.eu/vocabs/data#Judicial\": \"judicial\",\n  \"http://www.specialprivacy.eu/vocabs/data#Location\": \"location\",\n  \"http://www.specialprivacy.eu/vocabs/data#Navigation\": \"navigation\",\n  \"http://www.specialprivacy.eu/vocabs/data#Online\": \"online\",\n  \"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\": \"online activity\",\n  \"http://www.specialprivacy.eu/vocabs/data#Physical\": \"physical\",\n  \"http://www.specialprivacy.eu/vocabs/data#PhysicalActivity\": \"physical activity\",\n  \"http://www.specialprivacy.eu/vocabs/data#Political\": \"political\",\n  \"http://www.specialprivacy.eu/vocabs/data#Preference\": \"preference\",\n  \"http://www.specialprivacy.eu/vocabs/data#Profile\": \"profile\",\n  \"http://www.specialprivacy.eu/vocabs/data#Purchase\": \"purchase\",\n  \"http://www.specialprivacy.eu/vocabs/data#Social\": \"social\",\n  \"http://www.specialprivacy.eu/vocabs/data#State\": \"state\",\n  \"http://www.specialprivacy.eu/vocabs/data#Statistical\": \"statistical\",\n  \"http://www.specialprivacy.eu/vocabs/data#TelecomActivity\": \"telecommunication activity\",\n  \"http://www.specialprivacy.eu/vocabs/data#UniqueId\": \"unique identifier\",\n};\n\nconst storage = {\n  \"http://www.specialprivacy.eu/vocabs/locations#EU\": \"the European Union\",\n  \"http://www.specialprivacy.eu/vocabs/locations#EULike\": \"countries in the European Economic Area\",\n  \"http://www.specialprivacy.eu/vocabs/locations#ThirdCountries\": \"countries outside the European Union and the European Economic Area\",\n  \"http://www.specialprivacy.eu/vocabs/locations#ControllerServers\": \"the controller's servers\",\n  \"http://www.specialprivacy.eu/vocabs/locations#OurServers\": \"the controller's or processor's servers\",\n  \"http://www.specialprivacy.eu/vocabs/locations#ProcessorServers\": \"the processor's servers\",\n  \"http://www.specialprivacy.eu/vocabs/locations#ThirdParty\": \"servers not belonging to the controller or processors\",\n};\n\nconst processing = {\n  \"http://www.specialprivacy.eu/vocabs/processing#Aggregate\": \"aggregate\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Analyze\": \"analyze\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Anonymize\": \"anonymize\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Collect\": \"collect\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Copy\": \"copy\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Derive\": \"derive\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Move\": \"move\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Query\": \"query\",\n  \"http://www.specialprivacy.eu/vocabs/processing#Transfer\": \"transfer\",\n};\n\nconst purpose = {\n  \"http://www.specialprivacy.eu/vocabs/purposes#Account\": \"accounting\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Admin\": \"administrative\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Arts\": \"arts\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#AuxPurpose\": \"auxiliary\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Browsing\": \"browsing\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Charity\": \"charity\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Communicate\": \"communication\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Custom\": \"customization\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Delivery\": \"delivery\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Develop\": \"development\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Downloads\": \"downloading\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Education\": \"educational\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Feedback\": \"feedback\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Finmgt\": \"financial management\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Gambling\": \"gambling\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Gaming\": \"gaming\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Government\": \"governmental\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Health\": \"health\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Historical\": \"historical\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Login\": \"login\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Marketing\": \"marketing\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#News\": \"news\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#OtherContact\": \"other contacting\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Payment\": \"payment\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Sales\": \"sales\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Search\": \"search\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#State\": \"state\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Tailoring\": \"tailoring\",\n  \"http://www.specialprivacy.eu/vocabs/purposes#Telemarketing\": \"telemarketing\",\n};\n\nconst recipient = {\n  \"http://www.specialprivacy.eu/vocabs/recipientsDelivery\": \"delivery services\",\n  \"http://www.specialprivacy.eu/vocabs/recipientsSame\": \"legal entities following the controller's practices\",\n  \"http://www.specialprivacy.eu/vocabs/recipientsOtherRecipient\": \"legal entities following different practices\",\n  \"http://www.specialprivacy.eu/vocabs/recipientsOurs\": \"the controller, legal entities that act as the controller's agent or vice versa\",\n  \"http://www.specialprivacy.eu/vocabs/recipientsPublic\": \"public fora\",\n  \"http://www.specialprivacy.eu/vocabs/recipientsUnrelated\": \"unrelated third parties\",\n};\n\nexport function getLabel(key, upperCase) {\n  key = key.replace(\"https:\", \"http:\");\n  var result = \"\";\n\n  if (data.hasOwnProperty(key)) {\n    result = data[key];\n  } else if (storage.hasOwnProperty(key)) {\n    result = storage[key];\n  } else if (processing.hasOwnProperty(key)) {\n    result = processing[key];\n  } else if (purpose.hasOwnProperty(key)) {\n    result = purpose[key];\n  } else if (recipient.hasOwnProperty(key)) {\n    result = recipient[key];\n  }\n\n  if (upperCase) {\n    return result.charAt(0).toLocaleUpperCase() + result.slice(1);\n  }\n  return result;\n}\n\nexport function event2text(p, profile) {\n  var intro = \"The controller did \";\n  var linebreak = false;\n  if (profile === \"policy\") {\n    intro = \"The controller is able to \";\n  }\n\n  for (let key of [\"data\", \"purpose\", \"processing\", \"storage\", \"recipient\"]) {\n    if (Array.isArray(p[key])) {\n      var arr = p[key].map((e) => getLabel(e));\n      if (arr.length === 1) {\n        p[key + \"String\"] = arr[0];\n      } else if (arr.length === 2) {\n        linebreak = true;\n        p[key + \"String\"] = arr[0] + \" and \" + arr[1];\n      } else {\n        linebreak = true;\n        p[key + \"String\"] = arr.slice(0, arr.length-2).join(\", \") + \" and \" + arr.slice(arr.length-1);\n      }\n    } else {\n      p[key + \"String\"] = getLabel(p[key]);\n    }\n  }\n\n  var content = \"\";\n  if (linebreak) {\n    content = <span>\n      <p>{intro}<strong>{p.processingString}</strong> your <strong>{p.dataString}</strong> data for <strong>{p.purposeString}</strong> purposes.</p>\n      <p>It is stored in <strong>{p.storageString}</strong> and was shared with <strong>{p.recipientString}</strong>.</p>\n    </span>\n  } else {\n    content = <span>\n      {intro}<strong>{p.processingString}</strong> your <strong>{p.dataString}</strong> data for <strong>{p.purposeString}</strong> purposes.\n      It is stored in <strong>{p.storageString}</strong> and was shared with <strong>{p.recipientString}</strong>.\n    </span>\n  }\n\n  return (content);\n}","import React, {Component} from 'react';\nimport {List, ListItem} from 'material-ui/List';\nimport Subheader from 'material-ui/Subheader';\nimport muiThemeable from 'material-ui/styles/muiThemeable';\n\n// var color;\nvar name;\nvar address;\nvar website;\nvar email;\nvar description;\nvar logo;\n\nclass ControllerInfo extends Component {\n  constructor(props) {\n    super(props);\n    logo = props.muiTheme.logo;\n    name = props.muiTheme.name;\n    address = props.muiTheme.address;\n    website = props.muiTheme.website;\n    email = props.muiTheme.email;\n    description = props.muiTheme.description;\n    // color = props.muiTheme.palette.primary1Color;\n  }\n\n  state = {\n    policyOpen: false,\n  };\n\n  togglePolicy = () => {\n    this.setState({policyOpen: !this.state.policyOpen});\n  };\n\n  redirect = () => {\n    window.location.hash = \"#consent\";\n  };\n\n  emailRedirect = () => {\n    window.location = \"#\";\n  };\n\n  render() {\n    const leftAlign = {float: \"left\", width: \"auto\"};\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-4 col-xs-4\" style={{textAlign: \"center\", paddingTop: \"24px\"}}>\n          <img className=\"img-responsive\" src={logo} alt=\"\"/>\n        </div>\n        <div className=\"col-md-8 col-xs-8\">\n          <List>\n            <div style={{clear: \"both\"}}>\n              <Subheader style={leftAlign}>Name:</Subheader>\n              <ListItem primaryText={name} style={leftAlign}/>\n            </div>\n            <div style={{clear: \"both\"}}>\n              <Subheader style={leftAlign}>Address:</Subheader>\n              <ListItem primaryText={<span>{address}</span>} style={leftAlign}/>\n            </div>\n            <div style={{clear: \"both\"}}>\n              <Subheader style={leftAlign}>Description:</Subheader>\n              <ListItem primaryText={description} style={leftAlign}/>\n            </div>\n            <div style={{clear: \"both\"}}>\n              <Subheader style={leftAlign}>Website:</Subheader>\n              <ListItem primaryText={website} style={leftAlign}/>\n            </div>\n            <div style={{clear: \"both\"}}>\n              <Subheader style={leftAlign}>Email address:</Subheader>\n              <ListItem primaryText={email} onClick={this.emailRedirect} style={leftAlign}/>\n            </div>\n          </List>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default muiThemeable()(ControllerInfo);","import React, {Component} from 'react';\n\nimport {RadioButton, RadioButtonGroup} from 'material-ui/RadioButton';\nimport {List} from 'material-ui/List';\nimport Subheader from 'material-ui/Subheader';\n\nclass FilterControls extends Component {\n\n  render() {\n    const radBtnStyle = {\n      fontSize: \"16px\",\n      padding: \"6px\",\n      width: \"auto\",\n      float: \"left\"\n    };\n\n    return (\n      <List style={{marginBottom: \"20px\"}}>\n        <Subheader>Group by:</Subheader>\n        <RadioButtonGroup name=\"groupBy\" defaultSelected=\"purpose\" onChange={this.props.changeGroupBy}>\n          <RadioButton\n            value=\"purpose\"\n            label=\"Purpose\"\n            style={radBtnStyle}\n          />\n          <RadioButton\n            value=\"data\"\n            label=\"Data\"\n            style={radBtnStyle}\n          />\n          <RadioButton\n            value=\"processing\"\n            label=\"Processing\"\n            style={radBtnStyle}\n          />\n          <RadioButton\n            value=\"recipient\"\n            label=\"Recipient\"\n            style={radBtnStyle}\n          />\n          <RadioButton\n            value=\"storage\"\n            label=\"Storage\"\n            style={radBtnStyle}\n          />\n        </RadioButtonGroup>\n      </List>\n    );\n  };\n\n}\n\nexport default FilterControls;","import React, {Component} from 'react';\nimport {Step, StepButton, Stepper} from \"material-ui/Stepper\";\nimport CircularProgress from \"material-ui/CircularProgress\";\nimport {generateRandomKey} from \"../AppContainer\";\n\n\nclass DataTimelineOverview extends Component {\n\n  state = {\n    stepArr: []\n  };\n\n  componentDidMount() {\n    setTimeout(this.updateOverview, 0);\n  }\n\n  updateOverview = () => {\n    setTimeout(this.updateOverview, 1000);\n\n    var tmp = this.props.getStepArr();\n    if (typeof tmp !== \"undefined\") {\n      this.setState({stepArr: tmp});\n    } else {\n      this.setState({stepArr: []});\n    }\n  };\n\n  render() {\n    const self = this;\n\n    return (\n      <Stepper>\n        {\n          this.state.stepArr.map((e) => {\n            return (\n              <Step key={generateRandomKey()}>\n                <StepButton onClick={() => {self.props.readBuffer(e)}}>\n                  <b>{new Date(e.timestamp).toLocaleDateString() + \" \" + new Date(e.timestamp).toLocaleTimeString()}</b>\n                </StepButton>\n              </Step>\n            );\n          })\n        }\n        <Step>\n          <StepButton onClick={() => {self.props.readBuffer(null)}}><CircularProgress size={15} /></StepButton>\n        </Step>\n      </Stepper>\n    )\n  }\n}\n\nexport default DataTimelineOverview;","import React, {Component} from 'react';\nimport DataTimeline from \"./DataTimeline\";\nimport FilterControls from \"../controls/FilterControls\";\nimport {Card, CardText} from \"material-ui\";\nimport DataTimelineOverview from \"./DataTimelineOverview\";\n\nconst chunkSize = 60;\nconst avgNumEvents = 10;\n\nclass DataTimelineContainer extends Component {\n\n  state = {\n    data: [],\n    limit: chunkSize,\n    avgFreq: 0,\n    groupByKey: \"purpose\"\n  };\n\n  changeGroupBy = (e, v) => {\n    this.setState({groupByKey: v});\n  };\n\n  loadMore = () => {\n    this.setState({limit: this.state.limit + chunkSize});\n  };\n\n  componentDidMount() {\n    const self = this;\n\n    setTimeout(function() {\n      self.setState(self.props.readBuffer(null));\n    }, 2500);\n  };\n\n  render() {\n    return (\n      <div style={{marginTop: \"20px\"}}>\n\n        <div className=\"row\">\n          <div className=\"col-md-12\">\n            <Card>\n              <CardText>\n                <FilterControls\n                  changeGroupBy={this.changeGroupBy}\n                />\n              </CardText>\n            </Card>\n          </div>\n        </div>\n\n        <div className=\"col-md-12\" style={{marginTop: \"20px\"}}>\n          <div className=\"row\">\n            <DataTimelineOverview\n              getStepArr={this.props.getStepArr}\n              readBuffer={this.props.readBuffer}\n            />\n          </div>\n          <div className=\"row\">\n            <DataTimeline\n              data={this.state.data.slice(0, this.state.limit)}\n              avgFreq={this.state.avgFreq}\n              avgNumEvents={avgNumEvents}\n              loadMore={this.loadMore}\n              groupByKey={this.state.groupByKey}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default DataTimelineContainer;","import {cyan500, grey300, white, darkBlack, fullBlack} from \"material-ui/styles/colors\";\nimport {fade} from \"material-ui/utils/colorManipulator\";\nimport spacing from \"material-ui/styles/spacing\";\n\nexport default {\n  name: \"SPECIAL\",\n  address: \" Rue Robert Stumper, 2350 Luxembourg, Luxemburg\",\n  email: \"privacy@specialprivacy.eu\",\n  logo: \"https://www.specialprivacy.eu/images/ressources/SPECIAL_logos/special_logo_alpha.png\",\n  backgroundImage: \"http://raschke.cc/content/backgrounds/1920x1280.jpg\",\n  description: \"The SPECIAL (Scalable Policy-aware Linked Data Architecture For Privacy, Transparency and Compliance) project is a Research and Innovation Action funded under the H2020-ICT-2016-1 Big Data PPP call (Privacy-preserving Big Data technologies, ICT-18-2016). The project started on the 1st of January 2017 and will continue for three years.\",\n  website: \"https://www.specialprivacy.eu/\",\n  spacing: spacing,\n  fontFamily: 'Roboto, sans-serif',\n  borderRadius: 2,\n  palette: {\n    primary1Color: \"#239ADB\",\n    primary2Color: \"#239ADB\",\n    primary3Color: \"#239ADB\",\n    accent1Color: \"rgb(244, 2, 137)\",\n    accent2Color: \"rgb(244, 2, 137)\",\n    accent3Color: \"rgb(244, 2, 137)\",\n    textColor: darkBlack,\n    secondaryTextColor: fade(darkBlack, 0.54),\n    alternateTextColor: white,\n    canvasColor: white,\n    borderColor: grey300,\n    disabledColor: fade(darkBlack, 0.3),\n    pickerHeaderColor: cyan500,\n    clockCircleColor: fade(darkBlack, 0.07),\n    shadowColor: fullBlack,\n  },\n};","import React, {Component} from 'react';\nimport {Card, CardHeader, CardText, List, ListItem, Toggle} from \"material-ui\";\nimport Divider from \"material-ui/Divider\";\nimport {generateRandomKey} from \"../AppContainer\";\n\nimport Extension from 'material-ui/svg-icons/action/extension';\nimport Assignment from 'material-ui/svg-icons/action/assessment';\nimport {event2text} from \"../VocabLabelsGenerator\";\nimport muiThemeable from \"material-ui/styles/muiThemeable\";\n\nvar primaryColor = \"\";\nvar accentColor = \"\";\nclass ControllerPolicies extends Component {\n  constructor(props) {\n    super(props);\n    primaryColor = props.muiTheme.palette.primary1Color;\n    accentColor = props.muiTheme.palette.accent1Color;\n  }\n\n  render() {\n    return (\n      <div style={{marginTop: \"20px\"}}>\n        {\n          this.props.getPolicies().map((a) => {\n            let policySummary = a.links.policies.reduce((result, current) => {\n              current.data = current.dataCollection;\n              current.purpose = current.purposeCollection;\n              current.processing = current.processingCollection;\n              current.storage = current.storageCollection;\n              current.recipient = current.recipientCollection;\n\n              for (let key of [\"data\", \"purpose\", \"processing\", \"storage\", \"recipient\"]) {\n                if (result[key].indexOf(current[key]) === -1) {\n                  result[key].push(current[key]);\n                }\n              }\n              return result;\n            }, {\n              data: [],\n              purpose: [],\n              processing: [],\n              storage: [],\n              recipient: []\n            });\n\n            return (\n              <Card\n                key={generateRandomKey()}\n                expandable={true}\n                initiallyExpanded={false}\n                style={{marginTop: \"20px\"}}>\n                <div style={{height: \"42px\", padding: \"10px\", backgroundColor: accentColor, color: \"white\"}}>\n                  {<span>Policies of {a.name}</span>}\n                </div>\n                <CardHeader\n                  subtitle={<span>There are {a.links.policies.length} policies for this application. <br /> Application code: {a.id}.</span>}\n                  actAsExpander={true}\n                  showExpandableButton={true}\n                  avatar={<Extension style={{color: primaryColor}}/>}\n                />\n                <CardText expandable={false} style={{paddingLeft: \"55px\", paddingRight: \"75px\", fontSize: \"12pt\"}}>\n                  <div>{event2text(policySummary, \"policy\")}</div>\n                </CardText>\n                <CardText expandable={true}>\n                  <List>\n                    {\n                      a.links.policies.map(function(e) {\n                        e.data = e.dataCollection;\n                        e.purpose = e.purposeCollection;\n                        e.processing = e.processingCollection;\n                        e.storage = e.storageCollection;\n                        e.recipient = e.recipientCollection;\n\n                        return (\n                          <div key={generateRandomKey()}>\n                            <Divider/>\n                            <ListItem\n                              leftIcon={<Assignment style={{fill: primaryColor}}/>}\n                              rightToggle={<Toggle/>}\n                              secondaryText={<p>You gave consent to this policy.</p>}\n                            >\n                                <span key={generateRandomKey()}>\n                                  <p><b>Description:</b> { e.explanation }</p>\n                                  <hr />\n                                  <p>{ event2text(e, \"policy\") }</p>\n                                  <hr />\n                                </span>\n                            </ListItem>\n                          </div>\n                        )\n                      })\n                    }\n                  </List>\n                </CardText>\n              </Card>\n            );\n          })\n        }\n      </div>\n    );\n  }\n}\n\nexport default muiThemeable()(ControllerPolicies);","import React, {Component} from 'react';\nimport {muiThemeable} from \"material-ui/styles\";\nimport {getLabel} from \"../VocabLabelsGenerator\";\n\nimport { ResponsivePie } from '@nivo/pie'\nimport {\n  Card,\n  CardText,\n  Table, TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow, TableRowColumn\n} from \"material-ui\";\nimport {generateRandomKey, updateInterval} from \"../AppContainer\";\n\nclass DataPurposeChart extends Component {\n\n  state = {\n    purpose: [\n      {\n        \"id\": \"\",\n        \"label\": \"\",\n        \"value\": 100,\n      }\n    ],\n    data: []\n  };\n\n  componentDidMount() {\n    setTimeout(this.update, updateInterval);\n  }\n\n  update = () => {\n    setTimeout(this.update, updateInterval);\n\n    var data = Object.entries(this.props.getStatistics().data);\n    data.sort((a, b) => a[1].count - b[1].count);\n    data = data.map((elem) => {\n      var obj = {};\n      obj.dataCategory = elem[0];\n      obj.value = elem[1].count;\n      return obj;\n    });\n    var dataTotal = data.reduce((a, b) => {\n      return a + b.value\n    }, 0);\n    data = data.reverse().slice(0, 5);\n    data.map((elem) => {\n      elem.percentage = ((elem.value / dataTotal) * 100).toFixed(2) + \"%\";\n      return elem;\n    });\n\n    var purpose = Object.entries(this.props.getStatistics().purpose);\n    purpose = purpose.map((elem) => {\n      var obj = {};\n      obj.id = getLabel(elem[0], true);\n      obj.label = obj.id;\n      obj.key = elem[0];\n      obj.value = elem[1].count;\n      return obj;\n    });\n    var total = purpose.reduce((a, b) => { return a + b.value; }, 0);\n    purpose.map((elem) => {\n      elem.value = Number.parseFloat(((elem.value / total) * 100).toFixed(2));\n      return elem;\n    });\n\n    this.setState({data: data, purpose: purpose});\n  };\n\n\n  render() {\n    return (\n      <Card>\n        <CardText>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <h2>What data is processed and for what purposes?</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-6\">\n              <Table style={{marginBottom: \"0px\"}} onRowSelection={(rowNumber) => this.props.openDetails(\"data\", this.state.data[rowNumber[0]].dataCategory)}>\n                <TableHeader adjustForCheckbox={false} displaySelectAll={false} enableSelectAll={false}>\n                  <TableRow>\n                    <TableHeaderColumn style={{width: \"75%\"}}>Data category</TableHeaderColumn>\n                    <TableHeaderColumn>%</TableHeaderColumn>\n                  </TableRow>\n                </TableHeader>\n                <TableBody displayRowCheckbox={false} stripedRows={true}>\n                  {\n                    this.state.data.map((elem) => {\n                      return (\n                        <TableRow key={generateRandomKey()}>\n                          <TableRowColumn style={{width: \"75%\", cursor: \"pointer\"}}>{getLabel(elem.dataCategory, true) + \" data\"}</TableRowColumn>\n                          <TableRowColumn>{elem.percentage}</TableRowColumn>\n                        </TableRow>\n                      );\n                    })\n                  }\n                </TableBody>\n              </Table>\n            </div>\n            <div className=\"col-md-6\" style={{height: \"300px\"}}>\n              <ResponsivePie\n                data={this.state.purpose}\n                innerRadius={0.4}\n                padAngle={3}\n                cornerRadius={5}\n                borderWidth={1}\n                sliceLabel={(elem) => elem.value + \"%\"}\n                label={(elem) => elem.label}\n                borderColor=\"inherit:darker(0.2)\"\n                colors=\"set3\"\n                radialLabelsLinkDiagonalLength={8}\n                radialLabelsLinkHorizontalLength={8}\n                radialLabelsLinkStrokeWidth={1}\n                radialLabelsLinkColor=\"inherit\"\n                onClick={(node, e) => this.props.openDetails(\"purpose\", node.key)}\n                margin={{\n                  \"top\": 15,\n                  \"right\": 15,\n                  \"bottom\": 15,\n                  \"left\": 15\n                }}\n              />\n            </div>\n          </div>\n        </CardText>\n      </Card>\n    );\n  }\n\n}\n\nexport default muiThemeable()(DataPurposeChart);","import React, {Component} from 'react';\nimport {muiThemeable} from \"material-ui/styles\";\n\nimport { ResponsiveBar } from '@nivo/bar'\nimport {\n  Card,\n  CardText,\n  Table, TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow, TableRowColumn\n} from \"material-ui\";\nimport {getLabel} from \"../VocabLabelsGenerator\";\nimport {updateInterval} from \"../AppContainer\";\n\nconst prefix = \"http://www.specialprivacy.eu/vocabs/processing#\";\nconst sPrefix = \"https://www.specialprivacy.eu/vocabs/processing#\";\n\nclass ProcessingDataChart extends Component {\n\n  state = {\n    processing: [],\n    statistics: []\n  };\n\n  componentDidMount() {\n    // const self = this;\n    setTimeout(this.update, updateInterval);\n  }\n\n  update = () => {\n    setTimeout(this.update, updateInterval);\n\n    var data = Object.entries(this.props.getStatistics().processing);\n    data.sort((a, b) => a[1].count - b[1].count);\n    data = data.map((elem) => {\n      var obj = {};\n      obj.processingName = elem[0].split(\"#\")[1];\n      obj.key = elem[0];\n      obj.value = elem[1].count;\n      return obj;\n    });\n    var dataTotal = data.reduce((a, b) => {\n      return a + b.value\n    }, 0);\n    var reducedData = data.reverse().slice(0, 5);\n    reducedData.map((elem) => {\n      elem.percentage = ((elem.value / dataTotal) * 100).toFixed(2) + \"%\";\n      return elem;\n    });\n\n    const self = this;\n    var statistics = [];\n    var allKeys = [];\n    data.forEach(function(e) {\n      var arr = self.props.getDimensions(\"processing\", prefix + e.processingName);\n      var obj = {processing: getLabel(prefix + e.processingName, true), key: e.key};\n\n      if (typeof arr.processing[prefix + e.processingName] !== \"undefined\") {\n        obj.total = arr.processing[prefix + e.processingName].count;\n      } else if (typeof arr.processing[sPrefix + e.processingName] !== \"undefined\") {\n        obj.total = arr.processing[sPrefix + e.processingName].count;\n      } else {\n        return;\n      }\n\n      Object.entries(arr.data).forEach(function(elem) {\n        var key = getLabel(elem[0], true);\n        if (allKeys.indexOf(key) === -1){\n          allKeys.push(key);\n        }\n        obj[key] = Number.parseFloat(((elem[1].count / obj.total) * 100).toFixed(2));\n      });\n      statistics.push(obj);\n    });\n    statistics.sort((a, b) => { \n      if (b.processing < a.processing) {\n        return -1;\n      }\n      if (b.processing > a.processing) {\n        return 1;\n      }\n      return 0;\n    });\n    statistics = statistics.map(function (obj) {\n      for (var i=0; i < allKeys.length; i++) {\n        if (!obj.hasOwnProperty(allKeys[i])) {\n          obj[allKeys[i]] = 0;\n        }\n      }\n      return obj;\n    });\n    this.setState({processing: reducedData, statistics: statistics.reverse()});\n  };\n\n  render() {\n    return (\n      <Card>\n        <CardText>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <h2>What kind of processing took place? Which data was used?</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"hidden\">\n              <Table>\n                <TableHeader adjustForCheckbox={false} displaySelectAll={false} enableSelectAll={false}>\n                  <TableRow>\n                    <TableHeaderColumn style={{width: \"75%\"}}>Processing</TableHeaderColumn>\n                    <TableHeaderColumn>%</TableHeaderColumn>\n                  </TableRow>\n                </TableHeader>\n                <TableBody displayRowCheckbox={false} stripedRows={true}>\n                  {\n                    this.state.processing.map((elem) => {\n                      const self = this;\n\n                      return (\n                        <TableRow key={self.state.processing.indexOf(elem) + 1}>\n                          <TableRowColumn style={{width: \"75%\"}}>{elem.processingName}</TableRowColumn>\n                          <TableRowColumn>{elem.percentage}</TableRowColumn>\n                        </TableRow>\n                      );\n                    })\n                  }\n                </TableBody>\n              </Table>\n            </div>\n            <div className=\"col-md-12\" style={{height: \"300px\"}}>\n              <ResponsiveBar\n                data={this.state.statistics}\n                keys={[\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Activity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Anonymized\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Computer\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Content\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Demographic\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Derived\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Financial\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Government\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Health\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Interactive\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Judicial\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Location\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Navigation\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Online\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Physical\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#PhysicalActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Political\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Preference\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Profile\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Purchase\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Social\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#State\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Statistical\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#TelecomActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#UniqueId\", true),\n                ]}\n                indexBy=\"processing\"\n                onClick={(node, e) => this.props.openDetails(\"processing\", node.data.key)}\n                margin={{\n                  \"top\": 35,\n                  \"right\": 35,\n                  \"bottom\": 80,\n                  \"left\": 35\n                }}\n                colors=\"set3\"\n                colorBy=\"id\"\n                groupMode=\"stacked\"\n                innerPadding={5}\n                borderRadius={5}\n                layout=\"vertical\"\n                borderColor=\"inherit:darker(1.6)\"\n                labelSkipWidth={35}\n                labelSkipHeight={13}\n                labelTextColor=\"inherit:darker(4)\"\n                animate={true}\n                motionStiffness={90}\n                motionDamping={15}\n                legends={[\n                  {\n                    \"dataFrom\": \"keys\",\n                    \"anchor\": \"bottom\",\n                    \"direction\": \"row\",\n                    \"justify\": false,\n                    \"translateX\": 25,\n                    \"translateY\": 70,\n                    \"itemsSpacing\": 0,\n                    \"itemWidth\": 125,\n                    \"itemHeight\": 20,\n                    \"itemDirection\": \"left-to-right\",\n                    \"itemOpacity\": 1,\n                    \"symbolSize\": 10,\n                  }\n                ]}\n              />\n            </div>\n          </div>\n        </CardText>\n      </Card>\n    );\n  }\n\n}\n\nexport default muiThemeable()(ProcessingDataChart);","import React, {Component} from 'react';\nimport {muiThemeable} from \"material-ui/styles\";\n\nimport { ResponsivePie } from '@nivo/pie'\nimport {\n  Card,\n  CardText,\n  Table, TableBody,\n  TableHeader,\n  TableHeaderColumn,\n  TableRow, TableRowColumn\n} from \"material-ui\";\nimport {getLabel} from \"../VocabLabelsGenerator\";\nimport {updateInterval} from \"../AppContainer\";\n\nclass RecipientStorageChart extends Component {\n\n  state = {\n    recipient: [],\n    storage: []\n  };\n\n  componentDidMount() {\n    setTimeout(this.update, updateInterval);\n  }\n\n  update = () => {\n    setTimeout(this.update, updateInterval);\n\n    var data = Object.entries(this.props.getStatistics().recipient);\n    data.sort((a, b) => a[1].count - b[1].count);\n    data = data.map((elem) => {\n      var obj = {};\n      obj.recipient = getLabel(elem[0], true);\n      obj.key = elem[0];\n      obj.value = elem[1].count;\n      return obj;\n    });\n    var dataTotal = data.reduce((a, b) => {\n      return a + b.value\n    }, 0);\n    data = data.reverse().slice(0, 5);\n    data.map((elem) => {\n      elem.percentage = ((elem.value / dataTotal) * 100).toFixed(2) + \"%\";\n      return elem;\n    });\n\n    var storage = Object.entries(this.props.getStatistics().storage);\n    storage = storage.map((elem) => {\n      var obj = {};\n      obj.id = getLabel(elem[0], true);\n      obj.label = obj.id;\n      obj.key = elem[0];\n      obj.value = elem[1].count;\n      return obj;\n    });\n    var total = storage.reduce((a, b) => { return a + b.value; }, 0);\n    storage.map((elem) => {\n      elem.value = Number.parseFloat(((elem.value / total) * 100).toFixed(2));\n      return elem;\n    });\n\n    this.setState({recipient: data, storage: storage});\n  };\n\n\n  render() {\n    return (\n      <Card>\n        <CardText>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <h2>Where is data stored? With whom was it shared?</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-6\" style={{height: \"300px\"}}>\n              <ResponsivePie\n                data={this.state.storage}\n                innerRadius={0.4}\n                padAngle={3}\n                cornerRadius={5}\n                borderWidth={1}\n                sliceLabel={(elem) => elem.value + \"%\"}\n                label={(elem) => elem.label}\n                borderColor=\"inherit:darker(0.2)\"\n                colors=\"set3\"\n                radialLabelsLinkDiagonalLength={8}\n                radialLabelsLinkHorizontalLength={8}\n                radialLabelsLinkStrokeWidth={1}\n                radialLabelsLinkColor=\"inherit\"\n                onClick={(node, e) => this.props.openDetails(\"storage\", node.key)}\n                margin={{\n                  \"top\": 15,\n                  \"right\": 15,\n                  \"bottom\": 15,\n                  \"left\": 15\n                }}\n              />\n            </div>\n            <div className=\"col-md-6\">\n              <Table onRowSelection={(rowNumber) => this.props.openDetails(\"recipient\", this.state.recipient[rowNumber[0]].key)}>\n                <TableHeader adjustForCheckbox={false} displaySelectAll={false} enableSelectAll={false}>\n                  <TableRow>\n                    <TableHeaderColumn style={{width: \"75%\"}}>Data recipients</TableHeaderColumn>\n                    <TableHeaderColumn>%</TableHeaderColumn>\n                  </TableRow>\n                </TableHeader>\n                <TableBody displayRowCheckbox={false} stripedRows={true}>\n                  {\n                    this.state.recipient.map((elem) => {\n                      const self = this;\n\n                      return (\n                        <TableRow key={self.state.recipient.indexOf(elem) + 1}>\n                          <TableRowColumn style={{width: \"75%\", cursor: \"pointer\"}}>{elem.recipient}</TableRowColumn>\n                          <TableRowColumn>{elem.percentage}</TableRowColumn>\n                        </TableRow>\n                      );\n                    })\n                  }\n                </TableBody>\n              </Table>\n            </div>\n          </div>\n        </CardText>\n      </Card>\n    );\n  }\n\n}\n\nexport default muiThemeable()(RecipientStorageChart);","import React, {Component} from 'react';\nimport {muiThemeable} from \"material-ui/styles\";\n\nimport {\n  Card,\n  CardText,\n} from \"material-ui\";\nimport {ResponsiveBar} from \"@nivo/bar\";\nimport {getLabel} from \"../VocabLabelsGenerator\";\nimport {updateInterval} from \"../AppContainer\";\n\nconst prefix = \"http://www.specialprivacy.eu/vocabs/locations#\";\nconst sPrefix = \"https://www.specialprivacy.eu/vocabs/locations#\";\n\nclass DataNotEuStorageChart extends Component {\n\n  state = {\n    storage: [],\n    statistics: []\n  };\n\n  componentDidMount() {\n    setTimeout(this.update, updateInterval);\n  }\n\n  update = () => {\n    setTimeout(this.update, updateInterval);\n\n    var data = Object.entries(this.props.getStatistics().storage);\n    data.sort((a, b) => a[1].count - b[1].count);\n    data = data.map((elem) => {\n      var obj = {};\n      obj.storage = elem[0].split(\"#\")[1];\n      obj.key = elem[0];\n      obj.value = elem[1].count;\n      return obj;\n    });\n    var dataTotal = data.reduce((a, b) => {\n      return a + b.value\n    }, 0);\n    var reducedData = data.reverse().slice(0, 5);\n    reducedData.map((elem) => {\n      elem.percentage = ((elem.value / dataTotal) * 100).toFixed(2) + \"%\";\n      return elem;\n    });\n\n    const self = this;\n    var statistics = [];\n    var allKeys = [];\n    data.forEach(function(e) {\n      var arr = self.props.getDimensions(\"storage\", prefix + e.storage);\n      var obj = {storage: getLabel(prefix + e.storage, true), key: e.key};\n\n      if (typeof arr.storage[prefix + e.storage] !== \"undefined\") {\n        obj.total = arr.storage[prefix + e.storage].count;\n      } else if (typeof arr.storage[sPrefix + e.storage] !== \"undefined\") {\n        obj.total = arr.storage[sPrefix + e.storage].count;\n      } else {\n        return;\n      }\n\n      Object.entries(arr.data).forEach(function(elem) {\n        var key = getLabel(elem[0], true);\n        if (allKeys.indexOf(key) === -1){\n          allKeys.push(key);\n        }\n        obj[key] = Number.parseFloat(((elem[1].count / obj.total) * 100).toFixed(2));\n      });\n      statistics.push(obj);\n    });\n    statistics = statistics.sort((a, b) => { \n      if (b.storage < a.storage) {\n        return -1;\n      }\n      if (b.storage > a.storage) {\n        return 1;\n      }\n      return 0;\n    });\n    statistics = statistics.map(function (obj) {\n      for (var i=0; i < allKeys.length; i++) {\n        if (!obj.hasOwnProperty(allKeys[i])) {\n          obj[allKeys[i]] = 0;\n        }\n      }\n      return obj;\n    });\n    this.setState({storage: reducedData, statistics: statistics.reverse()});\n  };\n\n\n  render() {\n    return (\n      <Card>\n        <CardText>\n          <div className=\"row\">\n            <div className=\"col-md-12\">\n              <h2>Where is which data stored?</h2>\n            </div>\n          </div>\n          <div className=\"row\">\n            <div className=\"col-md-12\" style={{height: \"300px\"}}>\n              <ResponsiveBar\n                data={this.state.statistics}\n                keys={[\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Activity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Anonymized\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Computer\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Content\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Demographic\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Derived\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Financial\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Government\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Health\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Interactive\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Judicial\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Location\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Navigation\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Online\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Physical\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#PhysicalActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Political\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Preference\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Profile\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Purchase\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Social\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#State\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#Statistical\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#TelecomActivity\", true),\n                  getLabel(\"http://www.specialprivacy.eu/vocabs/data#UniqueId\", true)\n                ]}\n                indexBy=\"storage\"\n                onClick={(node, e) => this.props.openDetails(\"storage\", node.data.key)}\n                margin={{\n                  \"top\": 35,\n                  \"right\": 35,\n                  \"bottom\": 80,\n                  \"left\": 35\n                }}\n                colors=\"set3\"\n                colorBy=\"id\"\n                groupMode=\"stacked\"\n                innerPadding={5}\n                borderRadius={5}\n                layout=\"vertical\"\n                borderColor=\"inherit:darker(1.6)\"\n                labelSkipWidth={35}\n                labelSkipHeight={13}\n                labelTextColor=\"inherit:darker(4)\"\n                animate={true}\n                motionStiffness={90}\n                motionDamping={15}\n                legends={[\n                  {\n                    \"dataFrom\": \"keys\",\n                    \"anchor\": \"bottom\",\n                    \"direction\": \"row\",\n                    \"justify\": false,\n                    \"translateX\": 25,\n                    \"translateY\": 70,\n                    \"itemsSpacing\": 0,\n                    \"itemWidth\": 125,\n                    \"itemHeight\": 20,\n                    \"itemDirection\": \"left-to-right\",\n                    \"itemOpacity\": 1,\n                    \"symbolSize\": 10,\n                  }\n                ]}\n              />\n            </div>\n          </div>\n        </CardText>\n      </Card>\n    );\n  }\n\n}\n\nexport default muiThemeable()(DataNotEuStorageChart);","import React, {Component} from 'react';\n\nimport Dialog from 'material-ui/Dialog';\nimport IconButton from \"material-ui/IconButton\";\nimport Divider from \"material-ui/Divider\";\nimport {ResponsivePie} from \"@nivo/pie\";\nimport {getLabel} from \"../VocabLabelsGenerator\";\nimport {generateRandomKey, updateInterval} from \"../AppContainer\";\nimport NavigationClose from \"material-ui/svg-icons/navigation/close\"\n\nclass DetailsDialog extends Component {\n\n  state = {\n    inputData: {}\n  };\n\n  componentDidMount() {\n    this.update();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    return Object.keys(nextState.inputData.data).length > 0;\n  }\n\n  update = () => {\n    setTimeout(this.update, updateInterval);\n\n    // TODO: fix this\n    this.setState({inputData: this.props.getDimensions(this.props.selectedType, this.props.selectedQuery)})\n  };\n\n  render() {\n    if (this.props.selectedType === \"\" || this.props.selectedQuery === \"\") {\n      return (\n        <div></div>\n      );\n    }\n\n    var data = this.state.inputData;\n    data = Object.entries(data).map((e) => {\n      return e;\n    });\n\n    var labelType = this.props.selectedType.charAt(0).toLocaleUpperCase() + this.props.selectedType.slice(1);\n    var labelQuery = getLabel(this.props.selectedQuery);\n    labelQuery = labelQuery.charAt(0).toLocaleUpperCase() + labelQuery.slice(1);\n\n    return(\n      <Dialog\n        title={\n          <div>\n            <span>{labelType + \": \" + labelQuery}</span>\n            <span style={{float: \"right\"}}>\n              <IconButton\n                onClick={this.props.closeDetails}\n                style={{padding: \"0px\"}}\n              >\n                <NavigationClose/>\n              </IconButton>\n            </span>\n          </div>\n        }\n        open={this.props.open}\n        onRequestClose={this.props.closeDetails}\n        autoDetectWindowHeight={false}\n        autoScrollBodyContent={true}\n      >\n        {\n          data.filter((e) => {\n            return !(e[0] === \"hasConsent\" || e[0] === this.props.selectedType)\n          }).map((e) => {\n            var total = this.state.inputData[this.props.selectedType][this.props.selectedQuery].count;\n            var statistics = Object.entries(e[1]).map((value) => {\n              var percentage = Number.parseFloat(((value[1].count / total) * 100).toFixed(2));\n\n              if (e[0] === \"process\") {\n                return {\n                  id: value[0],\n                  label: value[0],\n                  value: percentage,\n                };\n              } else {\n                return {\n                  id: getLabel(value[0], true),\n                  label: getLabel(value[0], true),\n                  value: percentage,\n                };\n              }\n            });\n\n            return (\n              <div key={generateRandomKey()}>\n                <div className=\"row\" style={{marginBottom: \"40px\"}}>\n                  <h3 style={{paddingLeft: \"15px\", paddingRight: \"35px\", fontWeight: \"400\"}}>\n                    {e[0].charAt(0).toLocaleUpperCase() + e[0].slice(1) + ((e[0] === \"process\") ? \"es\" : \"\")} related to {getLabel(this.props.selectedQuery) + \" \" + this.props.selectedType}\n                  </h3>\n                  <Divider/>\n                  <div className=\"col-md-12\" style={{height: \"300px\"}}>\n                    <ResponsivePie\n                      data={statistics}\n                      innerRadius={0.4}\n                      padAngle={3}\n                      cornerRadius={5}\n                      borderWidth={1}\n                      sliceLabel={(elem) => elem.value + \"%\"}\n                      label={(elem) => getLabel(elem.label, true)}\n                      borderColor=\"inherit:darker(0.2)\"\n                      colors=\"set3\"\n                      radialLabelsLinkDiagonalLength={8}\n                      radialLabelsLinkHorizontalLength={8}\n                      radialLabelsLinkStrokeWidth={1}\n                      radialLabelsLinkColor=\"inherit\"\n                      margin={{\n                        \"top\": 45,\n                        \"right\": 15,\n                        \"bottom\": 15,\n                        \"left\": 45\n                      }}\n                    />\n                  </div>\n                </div>\n              </div>\n            );\n          })\n        }\n      </Dialog>\n    );\n  }\n\n}\n\nexport default DetailsDialog;","import React, {Component} from \"react\";\nimport DataPurposeChart from \"./charts/DataPurposeChart\";\nimport ProcessingDataChart from \"./charts/ProcessingDataChart\";\nimport RecipientStorageChart from \"./charts/RecipientStorageChart\";\nimport DataNotEuStorageChart from \"./charts/DataNotEuStorageChart\";\nimport DetailsDialog from \"./dialogs/DetailsDialog\";\n\nclass FrontPage extends Component {\n\n  state = {\n    open: false,\n    selectedType: \"\",\n    selectedQuery: \"\",\n  };\n\n  openDetails = (type, query) => {\n    this.setState({open: true, selectedType: type, selectedQuery: query});\n    this.forceUpdate();\n  };\n\n  closeDetails = () => {\n    this.setState({open: false, selectedType: \"\", selectedQuery: \"\"});\n    this.forceUpdate();\n  };\n\n  render() {\n    return (\n      <div>\n        <div>\n          <DataPurposeChart\n            getStatistics={this.props.getStatistics}\n            openDetails={this.openDetails}\n          />\n        </div>\n        <div style={{marginTop: \"20px\"}}>\n          <ProcessingDataChart\n            getStatistics={this.props.getStatistics}\n            getDimensions={this.props.getDimensions}\n            openDetails={this.openDetails}\n          />\n        </div>\n        <div style={{marginTop: \"20px\"}}>\n          <RecipientStorageChart\n            getStatistics={this.props.getStatistics}\n            getDimensions={this.props.getDimensions}\n            openDetails={this.openDetails}\n          />\n        </div>\n        <div style={{marginTop: \"20px\"}}>\n          <DataNotEuStorageChart\n            getStatistics={this.props.getStatistics}\n            getDimensions={this.props.getDimensions}\n            openDetails={this.openDetails}\n          />\n        </div>\n        <DetailsDialog\n          getDimensions={this.props.getDimensions}\n          open={this.state.open}\n          selectedType={this.state.selectedType}\n          selectedQuery={this.state.selectedQuery}\n          closeDetails={this.closeDetails}\n        />\n      </div>\n    );\n  }\n}\n\nexport default FrontPage;","import React, {Component} from 'react';\nimport './styles/App.css';\nimport DataTimelineContainer from './timeline/DataTimelineContainer';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport AppBar from 'material-ui/AppBar';\nimport IconMenu from 'material-ui/IconMenu';\nimport MenuItem from 'material-ui/MenuItem';\nimport IconButton from 'material-ui/IconButton';\nimport MoreVertIcon from 'material-ui/svg-icons/navigation/more-vert';\nimport AccountCircle from 'material-ui/svg-icons/action/account-circle';\nimport Settings from 'material-ui/svg-icons/action/settings';\nimport DirectionsRun from 'material-ui/svg-icons/maps/directions-run';\nimport getMuiTheme from \"material-ui/styles/getMuiTheme\";\nimport specialTheme from \"./themes/specialTheme\"\n// import tlabsTheme from \"./themes/tlabsTheme\"\n// import proximusTheme from \"./themes/proximusTheme\"\n// import reutersTheme from \"./themes/reutersTheme\"\nimport {Card, CardText, Tab, Tabs} from \"material-ui\";\nimport ControllerInfo from \"./sidebar/ControllerInfo\";\n// import NoConsentChart from \"./charts/NoConsentChart\";\nimport ControllerPolicies from \"./consent/ControllerPolicies\";\nimport FrontPage from \"./FrontPage\";\n\nclass App extends Component {\n\n  state = {\n    switch: false,\n  };\n\n  componentDidMount() {\n    const self = this;\n\n    window.onhashchange = function () {\n      self.forceUpdate();\n    };\n  }\n\n  triggerPolicyRequest = () => {\n    this.setState({switch: !this.state.switch});\n  };\n\n  render() {\n    var theme = specialTheme;\n    /*\n    var queryString = (new URL(window.location.href)).searchParams.get(\"theme\");\n    if (queryString === \"proximus\") {\n      theme = proximusTheme;\n    } else if (queryString === \"tlabs\") {\n      theme = tlabsTheme;\n    } else if (queryString === \"reuters\") {\n      theme = reutersTheme;\n    }\n    */\n\n    const iconMenu = <div>\n      <IconMenu\n        iconButtonElement={<IconButton iconStyle={{color: \"white\"}}><MoreVertIcon/></IconButton>}\n        targetOrigin={{horizontal: 'right', vertical: 'top'}}\n        anchorOrigin={{horizontal: 'right', vertical: 'top'}}\n      >\n        <MenuItem leftIcon={<AccountCircle/>}>My profile</MenuItem>\n        <MenuItem leftIcon={<Settings/>}>Settings</MenuItem>\n        <MenuItem leftIcon={<DirectionsRun/>}>Logout</MenuItem>\n      </IconMenu>\n    </div>;\n\n    return (\n      <MuiThemeProvider muiTheme={getMuiTheme(theme)}>\n        <div>\n          <div className=\"background-container\" style={{borderBottom: \"10px solid \" + theme.palette.primary1Color}}>\n            <div className=\"background-image\" style={{background: \"url(\" + theme.backgroundImage + \")\"}}/>\n          </div>\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"col-md-6 col-md-offset-3 col-sm-12 col-sm-offset-0\">\n\n                <div className=\"row\">\n                  <div className=\"col-md-12\">\n                    <AppBar\n                      title=\"SPECIAL Privacy Dashboard\"\n                      showMenuIconButton={false}\n                      style={{display: \"flex\"}}\n                      iconElementRight={iconMenu}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"row\">\n                  <div className=\"col-md-12\">\n                    <Card>\n                      <CardText>\n                        <ControllerInfo/>\n                      </CardText>\n                    </Card>\n                  </div>\n                </div>\n\n                <div className=\"row\" style={{marginTop: \"20px\"}}>\n                  <div className=\"col-md-12\">\n                    <Tabs>\n\n                      <Tab label=\"General Information\">\n                        <FrontPage\n                          getStatistics={this.props.getStatistics}\n                          getDimensions={this.props.getDimensions}\n                        />\n                      </Tab>\n\n                      <Tab label=\"Timeline\">\n                        <DataTimelineContainer\n                          controls={this.state.controls}\n                          toggleChecked={this.toggleChecked}\n                          readBuffer={this.props.readBuffer}\n                          getStepArr={this.props.getStepArr}\n                        />\n                      </Tab>\n\n                      <Tab label=\"Policies\" onActive={this.triggerPolicyRequest}>\n                        <ControllerPolicies\n                          getPolicies={this.props.getPolicies}\n                          switch={this.state.switch}\n                        />\n                      </Tab>\n\n                    </Tabs>\n                  </div>\n                </div>\n\n\n              </div>\n            </div>\n          </div>\n        </div>\n      </MuiThemeProvider>\n    );\n  }\n}\n\nexport default App;","import React, {Component} from 'react';\nimport App from \"./App\";\n\nvar request = require('request').defaults({jar: true});\nvar EventSource = require(\"eventsource\");\n\n\nvar buffer = [];\nvar statistics = {\n  data: {},\n  hasConsent: {},\n  process: {},\n  processing: {},\n  purpose: {},\n  recipient: {},\n  storage: {},\n};\nvar policies = [];\n\nconst extChunkSize = 500;\nconst vocabData = [\"http://www.specialprivacy.eu/vocabs/data#Activity\", \"http://www.specialprivacy.eu/vocabs/data#Anonymized\", \"http://www.specialprivacy.eu/vocabs/data#AudiovisualActivity\", \"http://www.specialprivacy.eu/vocabs/data#Computer\", \"http://www.specialprivacy.eu/vocabs/data#Content\", \"http://www.specialprivacy.eu/vocabs/data#Demographic\", \"http://www.specialprivacy.eu/vocabs/data#Derived\", \"http://www.specialprivacy.eu/vocabs/data#Financial\", \"http://www.specialprivacy.eu/vocabs/data#Government\", \"http://www.specialprivacy.eu/vocabs/data#Health\", \"http://www.specialprivacy.eu/vocabs/data#Interactive\", \"http://www.specialprivacy.eu/vocabs/data#Judicial\", \"http://www.specialprivacy.eu/vocabs/data#Location\", \"http://www.specialprivacy.eu/vocabs/data#Navigation\", \"http://www.specialprivacy.eu/vocabs/data#Online\", \"http://www.specialprivacy.eu/vocabs/data#OnlineActivity\", \"http://www.specialprivacy.eu/vocabs/data#Physical\", \"http://www.specialprivacy.eu/vocabs/data#PhysicalActivity\", \"http://www.specialprivacy.eu/vocabs/data#Political\", \"http://www.specialprivacy.eu/vocabs/data#Preference\", \"http://www.specialprivacy.eu/vocabs/data#Profile\", \"http://www.specialprivacy.eu/vocabs/data#Purchase\", \"http://www.specialprivacy.eu/vocabs/data#Social\", \"http://www.specialprivacy.eu/vocabs/data#State\", \"http://www.specialprivacy.eu/vocabs/data#Statistical\", \"http://www.specialprivacy.eu/vocabs/data#TelecomActivity\", \"http://www.specialprivacy.eu/vocabs/data#UniqueId\"];\nconst vocabProcessing = [\"http://www.specialprivacy.eu/vocabs/processing#Aggregate\", \"http://www.specialprivacy.eu/vocabs/processing#Analyze\", \"http://www.specialprivacy.eu/vocabs/processing#Anonymize\", \"http://www.specialprivacy.eu/vocabs/processing#Collect\", \"http://www.specialprivacy.eu/vocabs/processing#Copy\", \"http://www.specialprivacy.eu/vocabs/processing#Derive\", \"http://www.specialprivacy.eu/vocabs/processing#Move\", \"http://www.specialprivacy.eu/vocabs/processing#Query\", \"http://www.specialprivacy.eu/vocabs/processing#Transfer\"];\nconst vocabPurpose = [\"http://www.specialprivacy.eu/vocabs/purposes#Account\", \"http://www.specialprivacy.eu/vocabs/purposes#Admin\", \"http://www.specialprivacy.eu/vocabs/purposes#Arts\", \"http://www.specialprivacy.eu/vocabs/purposes#AuxPurpose\", \"http://www.specialprivacy.eu/vocabs/purposes#Browsing\", \"http://www.specialprivacy.eu/vocabs/purposes#Charity\", \"http://www.specialprivacy.eu/vocabs/purposes#Communicate\", \"http://www.specialprivacy.eu/vocabs/purposes#Current\", \"http://www.specialprivacy.eu/vocabs/purposes#Custom\", \"http://www.specialprivacy.eu/vocabs/purposes#Delivery\", \"http://www.specialprivacy.eu/vocabs/purposes#Develop\", \"http://www.specialprivacy.eu/vocabs/purposes#Downloads\", \"http://www.specialprivacy.eu/vocabs/purposes#Education\", \"http://www.specialprivacy.eu/vocabs/purposes#Feedback\", \"http://www.specialprivacy.eu/vocabs/purposes#Finmgt\", \"http://www.specialprivacy.eu/vocabs/purposes#Gambling\", \"http://www.specialprivacy.eu/vocabs/purposes#Gaming\", \"http://www.specialprivacy.eu/vocabs/purposes#Government\", \"http://www.specialprivacy.eu/vocabs/purposes#Health\", \"http://www.specialprivacy.eu/vocabs/purposes#Historical\", \"http://www.specialprivacy.eu/vocabs/purposes#Login\", \"http://www.specialprivacy.eu/vocabs/purposes#Marketing\", \"http://www.specialprivacy.eu/vocabs/purposes#News\", \"http://www.specialprivacy.eu/vocabs/purposes#OtherContact\", \"http://www.specialprivacy.eu/vocabs/purposes#Payment\", \"http://www.specialprivacy.eu/vocabs/purposes#Sales\", \"http://www.specialprivacy.eu/vocabs/purposes#Search\", \"http://www.specialprivacy.eu/vocabs/purposes#State\", \"http://www.specialprivacy.eu/vocabs/purposes#Tailoring\", \"http://www.specialprivacy.eu/vocabs/purposes#Telemarketing\"];\nconst vocabRecipient = [\"http://www.specialprivacy.eu/vocabs/recipientsDelivery\", \"http://www.specialprivacy.eu/vocabs/recipientsOtherRecipient\", \"http://www.specialprivacy.eu/vocabs/recipientsOurs\", \"http://www.specialprivacy.eu/vocabs/recipientsPublic\", \"http://www.specialprivacy.eu/vocabs/recipientsSame\", \"http://www.specialprivacy.eu/vocabs/recipientsUnrelated\"];\nconst vocabStorage = [\"http://www.specialprivacy.eu/vocabs/locations#ControllerServers\", \"http://www.specialprivacy.eu/vocabs/locations#EU\", \"http://www.specialprivacy.eu/vocabs/locations#EULike\", \"http://www.specialprivacy.eu/vocabs/locations#ThirdCountries\", \"http://www.specialprivacy.eu/vocabs/locations#OurServers\", \"http://www.specialprivacy.eu/vocabs/locations#ProcessorServers\", \"http://www.specialprivacy.eu/vocabs/locations#ThirdParty\"];\n\nconst url = \"https://demonstrator-special.tenforce.com\";\n\nexport const updateInterval = 700;\n\nclass AppContainer extends Component {\n\n  state = {};\n\n  componentDidMount() {\n    const self = this;\n    this.generateData();\n\n    request(url + \"/users/current\", function (err, res, body) {\n      if (res.statusCode === 401) {\n        if (res.headers.hasOwnProperty(\"location\")) {\n          console.log(\"redirect to \" + res.headers.location);\n        } else {\n          console.log(\"cannot read HTTP Header Location -> can't redirect\");\n        }\n      }\n    });\n\n    request(url + \"/applications\", function(err, res, body) {\n      if (!err) {\n        var applications = JSON.parse(body);\n        applications.applications.forEach((a) => {\n          request(url + a.links.policies, function(e, r, b) {\n            if (!e) {\n              a.links = JSON.parse(b);\n              policies.push(a);\n            }\n          });\n        })\n      }\n    });\n\n    var clientId = generateRandomKey();\n    var eventSource = new EventSource(url + \"/transparency-backend/connect?clientId=\" + clientId);\n\n    eventSource.addEventListener(\"message\", function (e) {\n      var obj = JSON.parse(e.data);\n      obj.data = obj.data.join(\",\");\n      buffer.unshift(obj);\n      if (buffer.length > 5000) {\n        buffer.pop();\n      }\n      self.processEvent(obj, statistics);\n    });\n\n    setTimeout(this.log, 200);\n  }\n\n  generateData = () => {\n    setTimeout(this.generateData, 100);\n\n    var dataRandom = Math.floor(Math.random() * Math.floor(vocabData.length / 5));\n    var hasConsentRandom = Math.floor(Math.random() * Math.floor(2));\n    var processingRandom = Math.floor(Math.random() * Math.floor(vocabProcessing.length));\n    var purposeRandom = Math.floor(Math.random() * Math.floor(vocabPurpose.length / 6));\n    var recipientRandom = Math.floor(Math.random() * Math.floor(vocabRecipient.length));\n    var storageRandom = Math.floor(Math.random() * Math.floor(vocabStorage.length / 2));\n\n    var obj = {\n      eventID: generateRandomKey(),\n      data: vocabData[dataRandom],\n      hasConsent: (hasConsentRandom === 1),\n      process: \"My process\",\n      processing: vocabProcessing[processingRandom],\n      purpose: vocabPurpose[purposeRandom],\n      recipient: vocabRecipient[recipientRandom],\n      storage: vocabStorage[storageRandom],\n      timestamp: Math.floor(Math.random() * Math.floor(Date.now()))\n    };\n\n    buffer.unshift(obj);\n    if (buffer.length > 5000) {\n      buffer.pop();\n    }\n    this.processEvent(obj, statistics);\n  };\n\n  getBuffer = () => {\n    return buffer;\n  };\n\n  readBuffer = (element) => {\n    var data;\n    if (element === null) {\n      data = buffer.slice(0, extChunkSize);\n    } else {\n      data = buffer.slice(buffer.indexOf(element), buffer.length + extChunkSize);\n    }\n    var n = (data.length === 0) ? 1 : data.length;\n    var freqIndicator = data.map(function (e) {\n      var index = data.indexOf(e);\n      if (index === data.length - 1) {\n        return 0;\n      }\n      return data[index].timestamp - data[index + 1].timestamp;\n    }).reduce((a, b) => a + b, 0) / n;\n\n    return {\n      data: data,\n      avgFreq: Math.floor(freqIndicator)\n    };\n  };\n\n  getStepArr = () => {\n    if (buffer.length === 0) {\n      return [];\n    }\n\n    var tmp = [];\n    tmp[0] = buffer[buffer.length-1];\n    tmp[1] = buffer[Math.floor(buffer.length/2)];\n    tmp[2] = buffer[0];\n    return tmp;\n  };\n\n  processEvent = (obj, target) => {\n    for (let key of [\"data\", \"hasConsent\", \"process\", \"processing\", \"purpose\", \"recipient\", \"storage\"]) {\n      if (target[key].hasOwnProperty(obj[key])) {\n        target[key][obj[key]].count++;\n      } else {\n        target[key][obj[key]] = {count: 1};\n      }\n    }\n  };\n\n  getDimensions = (key, query) => {\n    const self = this;\n\n    var statistics = {\n      data: {},\n      hasConsent: {},\n      process: {},\n      processing: {},\n      purpose: {},\n      recipient: {},\n      storage: {}\n    };\n\n    buffer.filter(function(elem) {\n      return elem[key] === query;\n    }).forEach(function(obj) {\n      self.processEvent(obj, statistics);\n    });\n\n    return statistics;\n  };\n\n  getStatistics = () => {\n    return statistics;\n  };\n\n  getPolicies = () => {\n    return policies;\n  };\n\n  render() {\n    return (\n      <App\n        getDimensions={this.getDimensions}\n        readBuffer={this.readBuffer}\n        getStepArr={this.getStepArr}\n        getStatistics={this.getStatistics}\n        getPolicies={this.getPolicies}\n      />\n    );\n  }\n}\n\nexport default AppContainer;\n\n\n// https://stackoverflow.com/a/27747377\nfunction dec2hex(dec) {\n  return (\"0\" + dec.toString(16)).substr(-2);\n}\n\nexport const generateRandomKey = () => {\n  var arr = new Uint8Array((12 || 40) / 2);\n  window.crypto.getRandomValues(arr);\n  return Array.from(arr, dec2hex).join(\"\");\n};","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './styles/index.css';\nimport registerServiceWorker from './registerServiceWorker';\nimport AppContainer from \"./AppContainer\";\n\nReactDOM.render(<AppContainer />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}